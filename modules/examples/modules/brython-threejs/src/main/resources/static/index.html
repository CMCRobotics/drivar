<html>
<head>
    <title>Drivar with ThreeJS</title>
    <meta charset="iso-8859-1">
    <script type="text/javascript" src="/webjars/three.js/three.min.js"></script>
    
    <script type="text/javascript" src="three/three.orbitcontrol.r88.js"></script>
    <script type="text/javascript" src="/webjars/brython/brython.js"></script>
    <script type="text/javascript" src="/webjars/brython/brython_stdlib.js"></script>

	
    <script type="text/python">
        print('start ...')
        
    </script>

</head>
<body onload="brython(1)">
    <div id="test"></div>
    
    
    <script>
			var scene, camera, controls, stats;
			var renderer, mixer;
			var url = 'scene.json';
			var SCREEN_WIDTH = window.innerWidth;
			var SCREEN_HEIGHT = window.innerHeight;
			var container = document.getElementById( 'test' );
			renderer = new THREE.WebGLRenderer( { antialias: true } );
			renderer.setPixelRatio( window.devicePixelRatio );
			renderer.setSize( SCREEN_WIDTH, SCREEN_HEIGHT );
			container.appendChild( renderer.domElement );
			// Load a scene with objects, lights and camera from a JSON file
			new THREE.ObjectLoader().load( url, function ( loadedScene ) {
				scene = loadedScene;
				scene.background = new THREE.Color( 0xffffff );
				// If the loaded file contains a perspective camera, use it with adjusted aspect ratio...
				scene.traverse( function ( sceneChild ) {
					if ( sceneChild.type === 'PerspectiveCamera' ) {
						camera = sceneChild;
						camera.aspect = SCREEN_WIDTH / SCREEN_HEIGHT;
						camera.updateProjectionMatrix();
					}
				} );
				// ... else create a new camera and use it in the loaded scene
				if ( camera === undefined ) {
					camera = new THREE.PerspectiveCamera( 30, SCREEN_WIDTH / SCREEN_HEIGHT, 1, 10000 );
					camera.position.set( - 200, 0, 200 );
				}
				controls = new THREE.OrbitControls( camera );
				// Ground plane and fog: examples for applying additional children and new property values to the loaded scene
				var geometry = new THREE.PlaneBufferGeometry( 20000, 20000 );
				var material = new THREE.MeshPhongMaterial( { shininess: 0.1 } );
				var ground = new THREE.Mesh( geometry, material );
				ground.position.set( 0, - 250, 0 );
				ground.rotation.x = - Math.PI / 2;
				scene.add( ground );
				scene.fog = new THREE.Fog( 0xffffff, 1000, 10000 );
				animate();
			} );
			window.onresize = function () {
				camera.aspect = window.innerWidth / window.innerHeight;
				camera.updateProjectionMatrix();
				renderer.setSize( window.innerWidth, window.innerHeight );
			};
			function animate() {
				requestAnimationFrame( animate );
				controls.update();
				renderer.render( scene, camera );
				
			}
			
		</script>
</body>


</html>
